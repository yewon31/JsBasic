<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3>할일목록 만들기</h3>
    <div class="nameInputBox">
        <input type="text" name="name" placeholder="이름을 입력하세요.">
        <button id="btnName" onclick="btnSubmitName(this)">확인</button>
    </div>
    <h4 class="nameViewBox" style="display: none;"></h4>
    <div class="todoBox">
        <input type="text" name="todo" placeholder="할일을 입력하세요.">
        <button id="btnTodo" onclick="btnSubmitTodo()">확인</button>
    </div>
    <ul class="todoList">
        <!-- <li>
            <span>코딩하기</span>
            <button onclick="up(this)">↑</button>
            <button onclick="down(this)">↓</button>
        </li> -->
    </ul>
    <script>

        var todoList = document.querySelector(".todoList");
        function btnSubmitName(node) {
            var name = document.querySelector("input[name='name']").value;
            if (name != "") {
                node.parentElement.style.display = "none";
                document.querySelector(".nameViewBox").innerHTML = name + "님 안녕하세요.";
                document.querySelector(".nameViewBox").style.display = "block";
            }

        }
        function btnSubmitTodo() {
            var todo = document.querySelector("input[name='todo']").value;
            document.querySelector("input[name='todo']").value = "";
            if (todo != "") {
                var li = document.createElement("li");
                var str = "";
                str += '<span>' + todo + ' </span>';
                str += '<button onclick="up(this)">↑</button>';
                str += '<button onclick="down(this)">↓</button>';

                li.innerHTML = str;
                todoList.appendChild(li);
            }
        }


        function down(node) {

            var liNow = node.parentElement;
            var next = liNow.nextElementSibling;

            if (next != null) {
                todoList.insertBefore(next, liNow);
            }

        }

        //up버튼
        function up(node) {

            var liNow = node.parentElement;
            var prev = liNow.previousElementSibling;

            if (prev != null) {
                todoList.insertBefore(liNow, prev);
            }
        }

    </script>

</body>

</html>